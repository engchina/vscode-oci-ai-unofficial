{
  "name": "vscode-oci-ai-unofficial",
  "displayName": "vscode-oci-ai-unofficial",
  "description": "OCI development toolkit for VS Code, covering AI and broader OCI workflows.",
  "version": "0.0.6",
  "publisher": "local",
  "icon": "icon.png",
  "engines": {
    "vscode": "^1.100.0"
  },
  "categories": [
    "Machine Learning"
  ],
  "activationEvents": [],
  "main": "./dist/extension.js",
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "ociAi",
          "title": "vscode-oci-ai-unofficial",
          "icon": "resources/oci-ai.svg"
        }
      ]
    },
    "views": {
      "ociAi": [
        {
          "id": "ociAi.mainView",
          "type": "webview",
          "name": "OCI Tools",
          "icon": "resources/oci-ai.svg",
          "visibility": "visible"
        }
      ]
    },
    "commands": [
      {
        "command": "ociAi.compute.start",
        "title": "Compute: Start Instance"
      },
      {
        "command": "ociAi.compute.stop",
        "title": "Compute: Stop Instance"
      },
      {
        "command": "ociAi.adb.start",
        "title": "ADB: Start"
      },
      {
        "command": "ociAi.adb.stop",
        "title": "ADB: Stop"
      },
      {
        "command": "ociAi.openChat",
        "title": "vscode-oci-ai-unofficial: Open Chat"
      },
      {
        "command": "ociAi.auth.configureProfile",
        "title": "vscode-oci-ai-unofficial: Switch Profile",
        "shortTitle": "Profile",
        "icon": "$(chevron-down)"
      },
      {
        "command": "ociAi.auth.configureApiKey",
        "title": "vscode-oci-ai-unofficial: Store API Key in Secret Storage"
      },
      {
        "command": "ociAi.openSettings",
        "title": "vscode-oci-ai-unofficial: Open OCI Settings",
        "shortTitle": "OCI Settings"
      },
      {
        "command": "ociAi.editor.sendToChat",
        "title": "OCI AI: Send to Chat"
      },
      {
        "command": "ociAi.editor.codeReview",
        "title": "OCI AI: Code Review"
      },
      {
        "command": "ociAi.editor.generateDocs",
        "title": "OCI AI: Generate Documentation"
      },
      {
        "command": "ociAi.switchCompartment",
        "title": "vscode-oci-ai-unofficial: Switch Compartment"
      }
    ],
    "menus": {
      "editor/context": [
        {
          "command": "ociAi.editor.sendToChat",
          "group": "ociAi@1",
          "when": "editorTextFocus"
        },
        {
          "command": "ociAi.editor.codeReview",
          "group": "ociAi@2",
          "when": "editorTextFocus"
        },
        {
          "command": "ociAi.editor.generateDocs",
          "group": "ociAi@3",
          "when": "editorTextFocus"
        }
      ],
      "view/title": [
        {
          "command": "ociAi.auth.configureProfile",
          "when": "view == ociAi.mainView",
          "group": "navigation"
        }
      ],
      "view/item/context": [
        {
          "command": "ociAi.compute.start",
          "when": "view == ociAi.mainView && viewItem == computeInstance",
          "group": "inline"
        },
        {
          "command": "ociAi.compute.stop",
          "when": "view == ociAi.mainView && viewItem == computeInstance",
          "group": "inline"
        },
        {
          "command": "ociAi.adb.start",
          "when": "view == ociAi.mainView && viewItem == adbInstance",
          "group": "inline"
        },
        {
          "command": "ociAi.adb.stop",
          "when": "view == ociAi.mainView && viewItem == adbInstance",
          "group": "inline"
        }
      ],
      "commandPalette": [
        {
          "command": "ociAi.auth.configureProfile"
        },
        {
          "command": "ociAi.auth.configureApiKey"
        },
        {
          "command": "ociAi.openChat"
        },
        {
          "command": "ociAi.openSettings"
        },
        {
          "command": "ociAi.editor.sendToChat"
        },
        {
          "command": "ociAi.editor.codeReview"
        },
        {
          "command": "ociAi.editor.generateDocs"
        },
        {
          "command": "ociAi.switchCompartment"
        }
      ]
    },
    "configuration": {
      "title": "vscode-oci-ai-unofficial",
      "properties": {
        "ociAi.activeProfile": {
          "type": "string",
          "default": "DEFAULT",
          "description": "The currently active global profile"
        },
        "ociAi.profile": {
          "type": "string",
          "default": "DEFAULT",
          "description": "Legacy OCI profile name from ~/.oci/config"
        },
        "ociAi.authMode": {
          "type": "string",
          "enum": [
            "auto",
            "api-key",
            "config-file"
          ],
          "default": "auto",
          "description": "Authentication mode: auto (prefer API key then fallback), api-key (no fallback), or config-file"
        },
        "ociAi.region": {
          "type": "string",
          "default": "",
          "description": "Optional OCI region override(s), comma-separated (e.g. us-phoenix-1,us-chicago-1)"
        },
        "ociAi.compartmentId": {
          "type": "string",
          "default": "",
          "description": "Compartment OCID used for Compute and ADB list/actions"
        },
        "ociAi.configFilePath": {
          "type": "string",
          "default": "",
          "description": "Optional custom OCI config file path. Defaults to ~/.oci/config"
        },
        "ociAi.oracleDbDriverMode": {
          "type": "string",
          "enum": [
            "auto",
            "thin",
            "thick"
          ],
          "default": "auto",
          "description": "node-oracledb driver mode for SQL connections: auto (try Thick then fallback to Thin), thin (always Thin), thick (require Oracle Instant Client)"
        },
        "ociAi.oracleClientLibDir": {
          "type": "string",
          "default": "",
          "description": "Optional Oracle Instant Client directory for Thick mode, e.g. /opt/oracle/instantclient_23_6"
        },
        "ociAi.genAiModelId": {
          "type": "string",
          "default": "",
          "description": "Legacy LLM model identifier (model name). Prefer ociAi.genAiLlmModelId."
        },
        "ociAi.genAiRegion": {
          "type": "string",
          "default": "",
          "description": "Optional OCI Generative AI region override (falls back to ociAi.region when empty)"
        },
        "ociAi.genAiLlmModelId": {
          "type": "string",
          "default": "",
          "description": "LLM model name for OCI Generative AI chat"
        },
        "ociAi.genAiEmbeddingModelId": {
          "type": "string",
          "default": "",
          "description": "Embedding model name for OCI Generative AI embedding requests"
        },
        "ociAi.systemPrompt": {
          "type": "string",
          "default": "",
          "description": "Optional system prompt prepended to every AI chat session"
        },
        "ociAi.nativeToolCall": {
          "type": "boolean",
          "default": true,
          "description": "Enable native tool calling when supported by the selected model"
        },
        "ociAi.parallelToolCalling": {
          "type": "boolean",
          "default": true,
          "description": "Allow parallel tool calls when using tool-enabled chat requests"
        },
        "ociAi.strictPlanMode": {
          "type": "boolean",
          "default": true,
          "description": "Prevent file edits in strict plan mode"
        },
        "ociAi.autoCompact": {
          "type": "boolean",
          "default": true,
          "description": "Enable automatic conversation compaction"
        },
        "ociAi.checkpoints": {
          "type": "boolean",
          "default": true,
          "description": "Enable editor checkpoints for rollback"
        },
        "ociAi.shellIntegrationTimeoutSec": {
          "type": "number",
          "default": 4,
          "description": "Timeout (seconds) to wait for shell integration before command execution"
        },
        "ociAi.chatMaxTokens": {
          "type": "number",
          "default": 64000,
          "description": "Maximum tokens requested per chat completion (1-128000)"
        },
        "ociAi.chatTemperature": {
          "type": "number",
          "default": 0,
          "description": "Sampling temperature for chat generation (0-2)"
        },
        "ociAi.chatTopP": {
          "type": "number",
          "default": 1,
          "description": "Nucleus sampling parameter for chat generation (0-1)"
        },
        "ociAi.savedCompartments": {
          "type": "array",
          "default": [],
          "description": "List of named compartments for quick switching",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "description": "Display name for this compartment"
              },
              "id": {
                "type": "string",
                "description": "Compartment OCID"
              }
            },
            "required": [
              "name",
              "id"
            ]
          }
        },
        "ociAi.profilesConfig": {
          "type": "array",
          "default": [],
          "description": "List of profiles and their associated compartments",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "description": "OCI Profile name"
              },
              "compartments": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "id",
                    "name"
                  ]
                }
              }
            },
            "required": [
              "name",
              "compartments"
            ]
          }
        },
        "ociAi.profileRegionMap": {
          "type": "object",
          "default": {},
          "description": "Per-profile OCI region mapping used by API Configuration profile selection",
          "additionalProperties": {
            "type": "string"
          }
        },
        "ociAi.computeCompartmentIds": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "description": "OCID of the compartment where Compute instances are located. Array of strings."
        },
        "ociAi.vcnCompartmentIds": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "description": "OCID of the compartment where Virtual Cloud Networks are located. Array of strings."
        },
        "ociAi.chatCompartmentId": {
          "type": "string",
          "default": "",
          "description": "Selected compartment ID for Chat"
        },
        "ociAi.adbCompartmentIds": {
          "type": "array",
          "default": [],
          "description": "Selected compartment IDs for ADB",
          "items": {
            "type": "string"
          }
        }
      }
    }
  },
  "scripts": {
    "postinstall": "npm run build",
    "build:webview": "cd webview-ui && npm install && npm run build",
    "prepare:oracledb": "node scripts/prepare-oracledb.js",
    "build:extension": "node esbuild.js && npm run prepare:oracledb",
    "build": "npm run build:webview && npm run build:extension",
    "dev:webview": "cd webview-ui && npm run dev",
    "watch": "node esbuild.js --watch",
    "dev:host": "code --extensionDevelopmentPath=.",
    "dev:vsix": "npm install --include=dev && npm run build && npm run package",
    "dev:install": "npm run dev:vsix && qoder --install-extension $(ls -t ./*.vsix | head -n1) --force",
    "check": "tsc --noEmit",
    "package": "vsce package --no-dependencies --allow-missing-repository"
  },
  "devDependencies": {
    "@types/node": "^24.10.13",
    "@types/vscode": "^1.100.0",
    "@vscode/vsce": "^3.7.1",
    "esbuild": "^0.25.12",
    "typescript": "^5.9.3"
  },
  "dependencies": {
    "adm-zip": "^0.5.16",
    "oci-common": "^2.125.2",
    "oci-core": "^2.125.2",
    "oci-database": "^2.125.2",
    "oci-generativeaiinference": "^2.125.2",
    "oracledb": "^6.10.0"
  }
}
