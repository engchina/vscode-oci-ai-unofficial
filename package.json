{
  "name": "vscode-oci-ai-unofficial",
  "displayName": "vscode-oci-ai-unofficial",
  "description": "OCI development toolkit for VS Code, covering AI and broader OCI workflows.",
  "version": "0.0.2",
  "publisher": "local",
  "engines": {
    "vscode": "^1.100.0"
  },
  "categories": [
    "Cloud"
  ],
  "activationEvents": [],
  "main": "./dist/extension.js",
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "ociAi",
          "title": "vscode-oci-ai-unofficial",
          "icon": "resources/oci-ai.svg"
        }
      ]
    },
    "views": {
      "ociAi": [
        {
          "id": "ociAi.settingsView",
          "type": "webview",
          "name": "OCI Settings",
          "visibility": "collapsed"
        },
        {
          "id": "ociAi.adbView",
          "type": "webview",
          "name": "Autonomous AI Databases",
          "visibility": "collapsed"
        },
        {
          "id": "ociAi.computeView",
          "type": "webview",
          "name": "Compute Instances",
          "visibility": "collapsed"
        },
        {
          "type": "webview",
          "id": "ociAi.chatView",
          "name": "Generative AI Chat",
          "visibility": "visible"
        }
      ]
    },
    "commands": [
      {
        "command": "ociAi.refreshCompute",
        "title": "Refresh Compute"
      },
      {
        "command": "ociAi.compute.start",
        "title": "Compute: Start Instance"
      },
      {
        "command": "ociAi.compute.stop",
        "title": "Compute: Stop Instance"
      },
      {
        "command": "ociAi.refreshAdb",
        "title": "Refresh ADB"
      },
      {
        "command": "ociAi.adb.start",
        "title": "ADB: Start"
      },
      {
        "command": "ociAi.adb.stop",
        "title": "ADB: Stop"
      },
      {
        "command": "ociAi.openChat",
        "title": "vscode-oci-ai-unofficial: Open Chat"
      },
      {
        "command": "ociAi.auth.configureProfile",
        "title": "vscode-oci-ai-unofficial: Configure Profile"
      },
      {
        "command": "ociAi.auth.configureApiKey",
        "title": "vscode-oci-ai-unofficial: Store API Key in Secret Storage"
      },
      {
        "command": "ociAi.openSettings",
        "title": "vscode-oci-ai-unofficial: Open OCI Settings",
        "shortTitle": "OCI Settings"
      },
      {
        "command": "ociAi.editor.sendToChat",
        "title": "OCI AI: Send to Chat"
      },
      {
        "command": "ociAi.editor.codeReview",
        "title": "OCI AI: Code Review"
      },
      {
        "command": "ociAi.editor.generateDocs",
        "title": "OCI AI: Generate Documentation"
      },
      {
        "command": "ociAi.switchCompartment",
        "title": "vscode-oci-ai-unofficial: Switch Compartment"
      }
    ],
    "menus": {
      "editor/context": [
        {
          "command": "ociAi.editor.sendToChat",
          "group": "ociAi@1",
          "when": "editorTextFocus"
        },
        {
          "command": "ociAi.editor.codeReview",
          "group": "ociAi@2",
          "when": "editorTextFocus"
        },
        {
          "command": "ociAi.editor.generateDocs",
          "group": "ociAi@3",
          "when": "editorTextFocus"
        }
      ],
      "view/title": [
        {
          "command": "ociAi.refreshCompute",
          "when": "view == ociAi.computeView",
          "group": "navigation"
        },
        {
          "command": "ociAi.refreshAdb",
          "when": "view == ociAi.adbView",
          "group": "navigation"
        }
      ],
      "view/item/context": [
        {
          "command": "ociAi.compute.start",
          "when": "view == ociAi.computeView && viewItem == computeInstance",
          "group": "inline"
        },
        {
          "command": "ociAi.compute.stop",
          "when": "view == ociAi.computeView && viewItem == computeInstance",
          "group": "inline"
        },
        {
          "command": "ociAi.adb.start",
          "when": "view == ociAi.adbView && viewItem == adbInstance",
          "group": "inline"
        },
        {
          "command": "ociAi.adb.stop",
          "when": "view == ociAi.adbView && viewItem == adbInstance",
          "group": "inline"
        }
      ],
      "commandPalette": [
        {
          "command": "ociAi.auth.configureProfile"
        },
        {
          "command": "ociAi.auth.configureApiKey"
        },
        {
          "command": "ociAi.openChat"
        },
        {
          "command": "ociAi.openSettings"
        },
        {
          "command": "ociAi.editor.sendToChat"
        },
        {
          "command": "ociAi.editor.codeReview"
        },
        {
          "command": "ociAi.editor.generateDocs"
        },
        {
          "command": "ociAi.switchCompartment"
        }
      ]
    },
    "configuration": {
      "title": "vscode-oci-ai-unofficial",
      "properties": {
        "ociAi.profile": {
          "type": "string",
          "default": "DEFAULT",
          "description": "OCI profile name from ~/.oci/config"
        },
        "ociAi.region": {
          "type": "string",
          "default": "",
          "description": "Optional OCI region override (e.g. us-phoenix-1)"
        },
        "ociAi.compartmentId": {
          "type": "string",
          "default": "",
          "description": "Compartment OCID used for Compute and ADB list/actions"
        },
        "ociAi.configFilePath": {
          "type": "string",
          "default": "",
          "description": "Optional custom OCI config file path. Defaults to ~/.oci/config"
        },
        "ociAi.genAiModelId": {
          "type": "string",
          "default": "",
          "description": "Legacy LLM model identifier (model name). Prefer ociAi.genAiLlmModelId."
        },
        "ociAi.genAiRegion": {
          "type": "string",
          "default": "",
          "description": "Optional OCI Generative AI region override (falls back to ociAi.region when empty)"
        },
        "ociAi.genAiLlmModelId": {
          "type": "string",
          "default": "",
          "description": "LLM model name for OCI Generative AI chat"
        },
        "ociAi.genAiEmbeddingModelId": {
          "type": "string",
          "default": "",
          "description": "Embedding model name for OCI Generative AI embedding requests"
        },
        "ociAi.systemPrompt": {
          "type": "string",
          "default": "",
          "description": "Optional system prompt prepended to every AI chat session"
        },
        "ociAi.nativeToolCall": {
          "type": "boolean",
          "default": true,
          "description": "Enable native tool calling when supported by the selected model"
        },
        "ociAi.parallelToolCalling": {
          "type": "boolean",
          "default": true,
          "description": "Allow parallel tool calls when using tool-enabled chat requests"
        },
        "ociAi.strictPlanMode": {
          "type": "boolean",
          "default": true,
          "description": "Prevent file edits in strict plan mode"
        },
        "ociAi.autoCompact": {
          "type": "boolean",
          "default": true,
          "description": "Enable automatic conversation compaction"
        },
        "ociAi.checkpoints": {
          "type": "boolean",
          "default": true,
          "description": "Enable editor checkpoints for rollback"
        },
        "ociAi.shellIntegrationTimeoutSec": {
          "type": "number",
          "default": 4,
          "description": "Timeout (seconds) to wait for shell integration before command execution"
        },
        "ociAi.chatMaxTokens": {
          "type": "number",
          "default": 64000,
          "description": "Maximum tokens requested per chat completion (1-128000)"
        },
        "ociAi.chatTemperature": {
          "type": "number",
          "default": 0,
          "description": "Sampling temperature for chat generation (0-2)"
        },
        "ociAi.chatTopP": {
          "type": "number",
          "default": 1,
          "description": "Nucleus sampling parameter for chat generation (0-1)"
        },
        "ociAi.savedCompartments": {
          "type": "array",
          "default": [],
          "description": "List of named compartments for quick switching",
          "items": {
            "type": "object",
            "properties": {
              "name": { "type": "string", "description": "Display name for this compartment" },
              "id": { "type": "string", "description": "Compartment OCID" }
            },
            "required": ["name", "id"]
          }
        }
      }
    }
  },
  "scripts": {
    "postinstall": "npm run build",
    "build:webview": "cd webview-ui && npm install && npm run build",
    "build:extension": "node esbuild.js",
    "build": "npm run build:webview && npm run build:extension",
    "dev:webview": "cd webview-ui && npm run dev",
    "watch": "node esbuild.js --watch",
    "dev:host": "code --extensionDevelopmentPath=.",
    "dev:vsix": "npm install --include=dev && npm run build && npm run package",
    "dev:install": "npm run dev:vsix && qoder --install-extension $(ls -t ./*.vsix | head -n1) --force",
    "check": "tsc --noEmit",
    "package": "vsce package --no-dependencies --allow-missing-repository"
  },
  "devDependencies": {
    "@types/node": "^24.10.13",
    "@types/vscode": "^1.100.0",
    "@vscode/vsce": "^3.7.1",
    "esbuild": "^0.25.12",
    "typescript": "^5.9.3"
  },
  "dependencies": {
    "oci-common": "^2.125.2",
    "oci-core": "^2.125.2",
    "oci-database": "^2.125.2",
    "oci-generativeaiinference": "^2.125.2"
  }
}
